---
import BaseLayout from "../../layouts/BaseLayout.astro";

const GITHUB_CLIENT_ID = import.meta.env.PUBLIC_GITHUB_CLIENT_ID;
const GOOGLE_CLIENT_ID = import.meta.env.PUBLIC_GOOGLE_CLIENT_ID;
const WORKER_URL = import.meta.env.PUBLIC_WORKER_URL;

const githubLoginUrl = `https://github.com/login/oauth/authorize?client_id=${GITHUB_CLIENT_ID}&redirect_uri=${encodeURIComponent(WORKER_URL + '/auth/github/callback')}&scope=repo`;
const googleLoginUrl = `https://accounts.google.com/o/oauth2/v2/auth?client_id=${GOOGLE_CLIENT_ID}&redirect_uri=${encodeURIComponent(WORKER_URL + '/auth/google/callback')}&response_type=code&scope=openid%20email%20profile&access_type=offline`;
---

<BaseLayout title="Login">
  <section class="min-h-screen flex flex-col justify-center items-center bg-gray-50 dark:bg-gray-900 px-4">
    <h1 class="text-3xl font-bold mb-8 text-gray-900 dark:text-white">Login</h1>

    <div class="flex flex-col space-y-4 w-full max-w-xs">
      <a
        href={githubLoginUrl}
        class="block w-full text-center px-4 py-3 bg-black text-white rounded-md hover:bg-gray-800 transition"
        aria-label="Login dengan GitHub"
      >
        Login dengan GitHub
      </a>

      <a
        href={googleLoginUrl}
        class="block w-full text-center px-4 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition"
        aria-label="Login dengan Google"
      >
        Login dengan Google
      </a>
    </div>
  </section>
</BaseLayout>
