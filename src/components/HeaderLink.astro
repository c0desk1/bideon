---
import type { HTMLAttributes } from 'astro/types';


interface Props extends HTMLAttributes<'a'> {
	href: string;
  	icon: string;
  	label: string;
}

const { href, icon, label, class: className, ...props } = Astro.props;

const pathname = Astro.url.pathname.replace(import.meta.env.BASE_URL, '');
const subpath = pathname.match(/[^\/]+/g);
const isActive = href === pathname || href === '/' + (subpath?.[0] || '');
---

<a
  href={href}
  title={label}
  class:list={[
    'group flex items-center gap-2 transition-default hover:text-[var(--color-text)]',
    { 'font-semibold text-[var(--color-text)]': isActive }
  ]}
>
  <i class={`${icon} text-base leading-none`} />
  <span class="hidden sm:inline text-sm">{label}</span>
</a>